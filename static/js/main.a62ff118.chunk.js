(this.webpackJsonpktool=this.webpackJsonpktool||[]).push([[0],{127:function(t,e,a){t.exports=a(135)},132:function(t,e,a){},133:function(t,e,a){},134:function(t,e,a){},135:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(56),c=a.n(o),l=(a(132),a(2)),i=a(3),s=a(5),d=a(4),u=a(6),h=(a(133),a(57)),p=a.n(h),f=a(7),m=a.n(f),v=a(1),g=function(t){function e(){var t,a;Object(l.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).drawChart=function(){v.o(".donut").remove();var t=v.n("#donutchart").append("svg").attr("class","donut").attr("width",420).attr("height",420).append("g").attr("transform","translate(210,210)"),e=v.k().domain([1,3.5,6]).range(["#2c7bb6","#ffffbf","#d7191c"]).interpolate(v.f),n=v.a().innerRadius(157.5).outerRadius(187.5),r=v.i().startAngle(-90*Math.PI/180).endAngle(-90*Math.PI/180+2*Math.PI).value((function(t){return 5*t.count})).padAngle(.01).sort(null);t.selectAll(".donutArcs").data(r(a.props.chartData)).enter().append("path").attr("class","donutArcs").attr("d",n).style("fill",(function(t,a){return 7===a?"#CCCCCC":e(a)})).each((function(e,a){var n=/(^.+?)L/.exec(v.n(this).attr("d"))[1];if(n=n.replace(/,/g," "),e.endAngle>90*Math.PI/180){var r=/0 0 1 (.*?)$/.exec(n)[1],o=/M(.*?)A/.exec(n)[1];n="M"+r+"A"+/A(.*?)0 0 1/.exec(n)[1]+"0 0 0 "+o}t.append("path").attr("class","hiddenDonutArcs").attr("id","donutArc"+a).attr("d",n).style("fill","none")}));var o=v.n("#donuttip");t.selectAll("path").on("mouseover",(function(t,e){v.n(this).transition().duration("50").attr("opacity",".85"),o.transition().duration(50).style("opacity",1);var a="<b>Event:</b> "+t.data.event+"<br/><b>Count:</b> "+t.data.count;o.html(a).style("left","8%").style("top","55%")})),t.selectAll(".donutText").data(r(a.props.chartData)).enter().append("text").attr("class","donutText").attr("dy",(function(t,e){return t.endAngle>90*Math.PI/180?18:-11})).append("textPath").attr("startOffset","50%").style("text-anchor","middle").style("fill","white").attr("xlink:href",(function(t,e){return"#donutArc"+e})).text((function(t){return t.data.event})),t.selectAll(".donutCount").data(r(a.props.chartData)).enter().append("text").attr("class","donutCount").attr("dy",(function(t,e){return t.endAngle>90*Math.PI/180?-11:20})).append("textPath").attr("startOffset","50%").style("text-anchor","middle").attr("xlink:href",(function(t,e){return"#donutArc"+e})).text((function(t){return t.data.count}))},a}return Object(u.a)(e,t),Object(i.a)(e,[{key:"componentDidUpdate",value:function(t){m()(this.props.chartData,t.chartData)||(console.log(this.props.chartData),this.drawChart())}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"donutchart"},r.a.createElement("div",{id:"donuttip",className:"donut-tip"})))}}]),e}(n.Component),y=(a(134),function(t){function e(){var t,a;Object(l.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).drawChart=function(){v.o(".loli").remove();var t=50,e=30,n=20,r=40,o=400-r-e,c=400-t-n,l=v.n("#lolipop").append("svg").attr("class","loli").attr("width",o+r+e).attr("height",c+t+n).append("g").attr("transform","translate("+r+","+t+")"),i=a.props.chartData,s=v.j().range([0,o]).domain(i.map((function(t){return t.college}))).padding(1);l.append("g").attr("transform","translate(0,"+c+")").attr("class","axisRed").call(v.b(s).tickSize(0)).selectAll("text").style("font-weight","bold").style("fill","white").attr("transform","translate(4,-300)rotate(-90)").style("text-anchor","end");var d=v.k().domain([0,v.g(i,(function(t){return t.count}))]).range([c,0]);l.append("g").attr("class","axisRed").call(v.c(d).ticks(10).tickFormat(v.d(",d"))).selectAll("text").style("fill","white"),l.selectAll("myline").data(i).enter().append("line").attr("x1",(function(t){return s(t.college)})).attr("x2",(function(t){return s(t.college)})).attr("y1",(function(t){return d(t.count)})).attr("y2",d(0)).attr("stroke","white"),l.selectAll("mycircle").data(i).enter().append("circle").attr("cx",(function(t){return s(t.college)})).attr("cy",(function(t){return d(t.count)})).attr("r","4").style("fill","#69b3a2").attr("stroke","black")},a}return Object(u.a)(e,t),Object(i.a)(e,[{key:"componentDidUpdate",value:function(t){m()(this.props.chartData,t.chartData)||(this.drawChart(),console.log(this.props.chartData))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"lolipop"}))}}]),e}(n.Component)),b=function(t){function e(){var t,a;Object(l.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).drawChart=function(){v.o(".bubble").remove();var t={};t.children=a.props.chartData;var e=v.l(v.m),n=v.h(t).size([400,400]).padding(1.5),r=v.n("#bubble").append("svg").attr("width",400).attr("height",400).attr("class","bubble"),o=v.e(t).sum((function(t){return t.count})),c=r.selectAll(".node").data(n(o).descendants()).enter().filter((function(t){return!t.children})).append("g").attr("class","node").attr("transform",(function(t){return"translate("+t.x+","+t.y+")"}));c.append("title").text((function(t){return t.data.event+": "+t.data.count})),c.append("circle").attr("r",(function(t){return t.r})).style("fill",(function(t,a){return e(a)})),c.append("text").attr("dy",".2em").style("text-anchor","middle").style("font-weight","bold").text((function(t){return t.data.event.substring(0,t.r/5)})).attr("font-family","sans-serif").attr("font-size",(function(t){return t.r/3})).attr("fill","white"),c.append("text").attr("dy","1.3em").style("text-anchor","middle").text((function(t){return t.data.count})).attr("font-family","Gill Sans","Gill Sans MT").attr("font-size",(function(t){return t.r/3})).attr("fill","white"),v.n(window.self.frameElement).style("height","400px")},a}return Object(u.a)(e,t),Object(i.a)(e,[{key:"componentDidUpdate",value:function(t){m()(this.props.chartData,t.chartData)||this.drawChart()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"bubble"}))}}]),e}(n.Component),w=function(t){function e(){var t,a;Object(l.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={chartData:[],hospiChartData:[],toggle:!1},a.handleData=function(t){var e=JSON.parse(t);if("hospitality"===e.type){var n=e.data,r=[];void 0!==n&&Object.keys(n).forEach((function(t){var e={};e.college=t,e.count=n[t],r.push(e)})),a.setState({hospiChartData:r})}else{var o=e.data,c=[];void 0!==o&&Object.keys(o).forEach((function(t){var e={};e.event=t,e.count=o[t],c.push(e)})),a.setState({chartData:c})}},a.handleClick=function(){a.state.toggle?a.setState({toggle:!1}):a.setState({toggle:!0})},a}return Object(u.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p.a,{url:"wss://k-data-api.herokuapp.com//ws/event/1/",onMessage:this.handleData.bind(this)}),r.a.createElement("div",{className:"loading wave"},"K! Board"),r.a.createElement("h2",{style:{color:"white",marginTop:"10%"}},"Top 10"),r.a.createElement("div",{className:"split"},r.a.createElement("div",{className:"div"},r.a.createElement(g,{chartData:this.state.chartData})),r.a.createElement("div",{className:"div"},r.a.createElement(y,{chartData:this.state.hospiChartData})),r.a.createElement("div",{className:"div"},r.a.createElement(b,{chartData:this.state.chartData}))),r.a.createElement("div",{style:{color:"white",marginTop:"20px"}},"Developed by Rogith and Srinivas Raman"))}}]),e}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[127,1,2]]]);
//# sourceMappingURL=main.a62ff118.chunk.js.map